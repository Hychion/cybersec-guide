
# 🧠 Post-Exploitation Enumeration – TryHackMe

## 🎯 Objectif

Une fois un accès obtenu sur une machine cible, l'objectif est de collecter un maximum d'informations pour :
- Comprendre la configuration du système
- Identifier des informations sensibles (utilisateurs, services, mots de passe)
- Préparer une élévation de privilèges ou un pivot vers d'autres machines

---

## 🐧 Linux Enumeration

### 🔹 Identifier la distribution et sa version

```bash
cat /etc/*release
```

### 🔹 Dernier utilisateur connecté

```bash
last -i | grep -m 1 -v -E "^(reboot|wtmp|btmp)" | awk '{print $1}'
```

### 🔹 Ports TCP à l'écoute

```bash
sudo netstat -tulnp | sort -r -k 4
```

### 🔹 Processus spécifiques

```bash
ps aux | grep "[T]HM"
```

---

## 🪟 Windows Enumeration

### 🔹 Informations système

```cmd
systeminfo | findstr /B /C:"OS Name" /C:"OS Version"
```

### 🔹 Nombre de correctifs installés

```powershell
(Get-HotFix).Count
```

### 🔹 Ports TCP à l'écoute

```cmd
netstat -an | findstr LISTENING | findstr " 0.0.0.0:" | sort
```

### 🔹 Processus associés aux ports

```powershell
Get-Process -Id (Get-NetTCPConnection -LocalPort 22).OwningProcess
```

---

## 🌐 Services Réseau

### 🔹 DNS – Transfert de zone

```bash
dig -t AXFR redteam.thm @10.10.138.93
```

### 🔹 SMB – Partages réseau

```cmd
net share
```

### 🔹 SNMP – Informations système

```bash
git clone https://gitlab.com/kalilinux/packages/snmpcheck.git
cd snmpcheck
chmod +x snmpcheck-1.9.rb
./snmpcheck-1.9.rb 10.10.138.93 -c public > snmp_output.txt
grep -a "THM" snmp_output.txt
```

---

## 🛠️ Outils Supplémentaires

### 🔹 Utilisateurs connectés

```cmd
PsLoggedOn
```

---

## 🏁 Conclusion

L'énumération post-exploitation est une étape cruciale pour comprendre l'environnement compromis et identifier des opportunités d'escalade de privilèges ou de mouvement latéral. En combinant les commandes et outils présentés ci-dessus, tu pourras collecter des informations essentielles pour la suite de ton engagement.
